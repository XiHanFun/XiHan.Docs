import{_ as i,o as l,c as e,ag as t}from"./chunks/framework.DPLcbSfg.js";const b=JSON.parse('{"title":"开发框架","description":"","frontmatter":{},"headers":[],"relativePath":"cosmos/framework/index.md","filePath":"cosmos/framework/index.md","lastUpdated":1769543685000}'),r={name:"cosmos/framework/index.md"};function n(o,a,h,s,d,u){return l(),e("div",null,[...a[0]||(a[0]=[t(`<h1 id="开发框架" tabindex="-1">开发框架 <a class="header-anchor" href="#开发框架" aria-label="Permalink to &quot;开发框架&quot;">​</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p><strong>XiHan.Framework</strong> 是一个基于 .NET 10 的企业级开发框架，采用模块化设计，提供 50+ 个功能模块，帮助开发者快速构建高性能、可扩展的企业应用。</p><h2 id="核心优势" tabindex="-1">核心优势 <a class="header-anchor" href="#核心优势" aria-label="Permalink to &quot;核心优势&quot;">​</a></h2><h3 id="模块化设计" tabindex="-1">模块化设计 <a class="header-anchor" href="#模块化设计" aria-label="Permalink to &quot;模块化设计&quot;">​</a></h3><p>框架采用高度模块化的设计，每个功能都封装在独立的 NuGet 包中，您可以：</p><ul><li>按需引入所需模块</li><li>避免不必要的依赖</li><li>降低应用体积</li><li>提高启动速度</li></ul><h3 id="领域驱动设计" tabindex="-1">领域驱动设计 <a class="header-anchor" href="#领域驱动设计" aria-label="Permalink to &quot;领域驱动设计&quot;">​</a></h3><p>完整支持 DDD（领域驱动设计）思想：</p><ul><li><strong>聚合根</strong> - 管理实体生命周期</li><li><strong>实体</strong> - 业务对象建模</li><li><strong>值对象</strong> - 不可变的值类型</li><li><strong>领域事件</strong> - 领域内的事件通知</li><li><strong>领域服务</strong> - 跨聚合根的业务逻辑</li><li><strong>规约模式</strong> - 封装查询条件</li></ul><h3 id="高性能" tabindex="-1">高性能 <a class="header-anchor" href="#高性能" aria-label="Permalink to &quot;高性能&quot;">​</a></h3><p>充分利用 .NET 10 的性能优势：</p><ul><li>支持 AOT 编译</li><li>优先使用原生功能</li><li>异步编程优先</li><li>高性能序列化</li><li>内存优化</li></ul><h2 id="架构模式" tabindex="-1">架构模式 <a class="header-anchor" href="#架构模式" aria-label="Permalink to &quot;架构模式&quot;">​</a></h2><h3 id="分层架构" tabindex="-1">分层架构 <a class="header-anchor" href="#分层架构" aria-label="Permalink to &quot;分层架构&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────────────────────┐</span></span>
<span class="line"><span>│      表现层（Presentation）      │  Web API、SignalR、中间件</span></span>
<span class="line"><span>├─────────────────────────────────┤</span></span>
<span class="line"><span>│      应用层（Application）       │  应用服务、DTO、命令查询</span></span>
<span class="line"><span>├─────────────────────────────────┤</span></span>
<span class="line"><span>│       领域层（Domain）           │  聚合根、实体、领域服务</span></span>
<span class="line"><span>├─────────────────────────────────┤</span></span>
<span class="line"><span>│   基础设施层（Infrastructure）   │  数据访问、缓存、消息队列</span></span>
<span class="line"><span>└─────────────────────────────────┘</span></span></code></pre></div><h3 id="cqrs-模式" tabindex="-1">CQRS 模式 <a class="header-anchor" href="#cqrs-模式" aria-label="Permalink to &quot;CQRS 模式&quot;">​</a></h3><p>支持命令查询分离（CQRS）：</p><ul><li><strong>命令（Command）</strong> - 处理写操作</li><li><strong>查询（Query）</strong> - 处理读操作</li><li>读写分离，优化性能</li></ul><h2 id="核心模块" tabindex="-1">核心模块 <a class="header-anchor" href="#核心模块" aria-label="Permalink to &quot;核心模块&quot;">​</a></h2><h3 id="基础核心" tabindex="-1">基础核心 <a class="header-anchor" href="#基础核心" aria-label="Permalink to &quot;基础核心&quot;">​</a></h3><h4 id="核心模块-core" tabindex="-1">核心模块（Core） <a class="header-anchor" href="#核心模块-core" aria-label="Permalink to &quot;核心模块（Core）&quot;">​</a></h4><p>提供框架的核心功能：</p><ul><li>模块化系统</li><li>依赖注入集成</li><li>配置管理</li><li>异常处理</li><li>结果模式</li><li>实体基类</li></ul><h4 id="工具模块-utils" tabindex="-1">工具模块（Utils） <a class="header-anchor" href="#工具模块-utils" aria-label="Permalink to &quot;工具模块（Utils）&quot;">​</a></h4><p>丰富的工具函数库：</p><ul><li>字符串处理（70+ 扩展方法）</li><li>安全算法（Hash、AES、RSA、DES、ECDSA）</li><li>异步工具</li><li>序列化（JSON、XML、YAML）</li><li>集合操作</li><li>反射工具</li><li>网络通信</li><li>文件 IO</li><li>时间处理</li></ul><h3 id="数据访问" tabindex="-1">数据访问 <a class="header-anchor" href="#数据访问" aria-label="Permalink to &quot;数据访问&quot;">​</a></h3><h4 id="数据访问模块-data" tabindex="-1">数据访问模块（Data） <a class="header-anchor" href="#数据访问模块-data" aria-label="Permalink to &quot;数据访问模块（Data）&quot;">​</a></h4><ul><li>仓储模式实现</li><li>支持多种 ORM（SqlSugar、EF Core、Dapper）</li><li>规约模式支持</li><li>数据初始化和种子</li></ul><h4 id="工作单元模块-uow" tabindex="-1">工作单元模块（Uow） <a class="header-anchor" href="#工作单元模块-uow" aria-label="Permalink to &quot;工作单元模块（Uow）&quot;">​</a></h4><ul><li>事务管理</li><li>嵌套工作单元</li><li>事件集成</li><li>变更追踪</li></ul><h3 id="领域层" tabindex="-1">领域层 <a class="header-anchor" href="#领域层" aria-label="Permalink to &quot;领域层&quot;">​</a></h3><h4 id="领域模块-domain" tabindex="-1">领域模块（Domain） <a class="header-anchor" href="#领域模块-domain" aria-label="Permalink to &quot;领域模块（Domain）&quot;">​</a></h4><ul><li>聚合根基类</li><li>实体基类</li><li>领域事件</li><li>值对象</li><li>规约模式</li><li>业务规则验证</li></ul><h3 id="缓存" tabindex="-1">缓存 <a class="header-anchor" href="#缓存" aria-label="Permalink to &quot;缓存&quot;">​</a></h3><h4 id="缓存模块-caching" tabindex="-1">缓存模块（Caching） <a class="header-anchor" href="#缓存模块-caching" aria-label="Permalink to &quot;缓存模块（Caching）&quot;">​</a></h4><ul><li>分布式缓存</li><li>混合缓存（内存 + 分布式）</li><li>Redis 支持</li><li>批量操作</li><li>工作单元集成</li></ul><h3 id="事件驱动" tabindex="-1">事件驱动 <a class="header-anchor" href="#事件驱动" aria-label="Permalink to &quot;事件驱动&quot;">​</a></h3><h4 id="事件总线模块-eventbus" tabindex="-1">事件总线模块（EventBus） <a class="header-anchor" href="#事件总线模块-eventbus" aria-label="Permalink to &quot;事件总线模块（EventBus）&quot;">​</a></h4><ul><li>本地事件总线</li><li>分布式事件总线</li><li>事件订阅管理</li><li>工作单元集成</li><li>多租户支持</li></ul><h3 id="多租户" tabindex="-1">多租户 <a class="header-anchor" href="#多租户" aria-label="Permalink to &quot;多租户&quot;">​</a></h3><h4 id="多租户模块-multitenancy" tabindex="-1">多租户模块（MultiTenancy） <a class="header-anchor" href="#多租户模块-multitenancy" aria-label="Permalink to &quot;多租户模块（MultiTenancy）&quot;">​</a></h4><ul><li>租户上下文管理</li><li>租户解析策略</li><li>数据隔离</li><li>租户配置</li><li>租户生命周期管理</li></ul><h3 id="认证授权" tabindex="-1">认证授权 <a class="header-anchor" href="#认证授权" aria-label="Permalink to &quot;认证授权&quot;">​</a></h3><h4 id="认证模块-authentication" tabindex="-1">认证模块（Authentication） <a class="header-anchor" href="#认证模块-authentication" aria-label="Permalink to &quot;认证模块（Authentication）&quot;">​</a></h4><ul><li>JWT 认证</li><li>OAuth 2.0 / OpenID Connect</li><li>多因素认证（MFA）</li><li>单点登录（SSO）</li><li>会话管理</li></ul><h4 id="授权模块-authorization" tabindex="-1">授权模块（Authorization） <a class="header-anchor" href="#授权模块-authorization" aria-label="Permalink to &quot;授权模块（Authorization）&quot;">​</a></h4><ul><li>基于角色的访问控制（RBAC）</li><li>资源访问控制</li><li>动态授权</li><li>细粒度权限</li><li>权限继承</li></ul><h3 id="后台任务" tabindex="-1">后台任务 <a class="header-anchor" href="#后台任务" aria-label="Permalink to &quot;后台任务&quot;">​</a></h3><h4 id="任务模块-tasks" tabindex="-1">任务模块（Tasks） <a class="header-anchor" href="#任务模块-tasks" aria-label="Permalink to &quot;任务模块（Tasks）&quot;">​</a></h4><ul><li>任务调度</li><li>任务执行</li><li>分布式任务</li><li>任务依赖解析</li><li>重试策略</li><li>性能监控</li></ul><h3 id="应用层" tabindex="-1">应用层 <a class="header-anchor" href="#应用层" aria-label="Permalink to &quot;应用层&quot;">​</a></h3><h4 id="应用服务模块-application" tabindex="-1">应用服务模块（Application） <a class="header-anchor" href="#应用服务模块-application" aria-label="Permalink to &quot;应用服务模块（Application）&quot;">​</a></h4><ul><li>应用服务基类</li><li>CRUD 服务基类</li><li>批量操作服务</li><li>动态 API 生成</li></ul><h3 id="web-层" tabindex="-1">Web 层 <a class="header-anchor" href="#web-层" aria-label="Permalink to &quot;Web 层&quot;">​</a></h3><h4 id="web-核心模块-web-core" tabindex="-1">Web 核心模块（Web.Core） <a class="header-anchor" href="#web-核心模块-web-core" aria-label="Permalink to &quot;Web 核心模块（Web.Core）&quot;">​</a></h4><ul><li>Web 主机构建</li><li>中间件管道</li><li>HTTP 上下文增强</li><li>健康检查</li></ul><h4 id="web-api-模块-web-api" tabindex="-1">Web API 模块（Web.Api） <a class="header-anchor" href="#web-api-模块-web-api" aria-label="Permalink to &quot;Web API 模块（Web.Api）&quot;">​</a></h4><ul><li>API 控制器基类</li><li>模型绑定</li><li>API 版本管理</li><li>响应格式化</li><li>CQRS 路由</li></ul><h4 id="api-文档模块-web-docs" tabindex="-1">API 文档模块（Web.Docs） <a class="header-anchor" href="#api-文档模块-web-docs" aria-label="Permalink to &quot;API 文档模块（Web.Docs）&quot;">​</a></h4><ul><li>OpenAPI 文档生成</li><li>客户端代码生成</li><li>文档模板</li><li>API 示例</li></ul><h4 id="实时通信模块-web-realtime" tabindex="-1">实时通信模块（Web.RealTime） <a class="header-anchor" href="#实时通信模块-web-realtime" aria-label="Permalink to &quot;实时通信模块（Web.RealTime）&quot;">​</a></h4><ul><li>SignalR 集成</li><li>连接管理</li><li>实时通知</li><li>用户标识</li></ul><h3 id="横切关注点" tabindex="-1">横切关注点 <a class="header-anchor" href="#横切关注点" aria-label="Permalink to &quot;横切关注点&quot;">​</a></h3><h4 id="序列化模块-serialization" tabindex="-1">序列化模块（Serialization） <a class="header-anchor" href="#序列化模块-serialization" aria-label="Permalink to &quot;序列化模块（Serialization）&quot;">​</a></h4><ul><li>JSON 序列化（System.Text.Json）</li><li>XML 序列化</li><li>YAML 序列化</li><li>流式序列化</li></ul><h4 id="日志模块-logging" tabindex="-1">日志模块（Logging） <a class="header-anchor" href="#日志模块-logging" aria-label="Permalink to &quot;日志模块（Logging）&quot;">​</a></h4><ul><li>结构化日志</li><li>日志上下文</li><li>关联 ID 追踪</li><li>动态日志级别</li></ul><h4 id="对象映射模块-objectmapping" tabindex="-1">对象映射模块（ObjectMapping） <a class="header-anchor" href="#对象映射模块-objectmapping" aria-label="Permalink to &quot;对象映射模块（ObjectMapping）&quot;">​</a></h4><ul><li>Entity ↔ DTO 转换</li><li>高性能映射</li><li>自定义映射规则</li><li>表达式编译</li></ul><h4 id="验证模块-validation" tabindex="-1">验证模块（Validation） <a class="header-anchor" href="#验证模块-validation" aria-label="Permalink to &quot;验证模块（Validation）&quot;">​</a></h4><ul><li>数据注解验证</li><li>FluentValidation 集成</li><li>异步验证</li><li>验证规则构建器</li></ul><h4 id="设置模块-settings" tabindex="-1">设置模块（Settings） <a class="header-anchor" href="#设置模块-settings" aria-label="Permalink to &quot;设置模块（Settings）&quot;">​</a></h4><ul><li>配置提供者</li><li>动态配置</li><li>配置变更通知</li><li>分组管理</li></ul><h4 id="国际化模块-localization" tabindex="-1">国际化模块（Localization） <a class="header-anchor" href="#国际化模块-localization" aria-label="Permalink to &quot;国际化模块（Localization）&quot;">​</a></h4><ul><li>多语言支持</li><li>资源文件管理</li><li>文化上下文</li><li>本地化缓存</li></ul><h3 id="基础设施" tabindex="-1">基础设施 <a class="header-anchor" href="#基础设施" aria-label="Permalink to &quot;基础设施&quot;">​</a></h3><h4 id="http-客户端模块-http" tabindex="-1">HTTP 客户端模块（Http） <a class="header-anchor" href="#http-客户端模块-http" aria-label="Permalink to &quot;HTTP 客户端模块（Http）&quot;">​</a></h4><ul><li>HTTP 客户端工厂</li><li>请求构建器</li><li>响应处理管道</li><li>拦截器链</li><li>重试策略</li></ul><h4 id="安全模块-security" tabindex="-1">安全模块（Security） <a class="header-anchor" href="#安全模块-security" aria-label="Permalink to &quot;安全模块（Security）&quot;">​</a></h4><ul><li>密码学提供者</li><li>密钥管理</li><li>数据保护</li><li>安全审计</li></ul><h4 id="分布式-id-模块-distributedids" tabindex="-1">分布式 ID 模块（DistributedIds） <a class="header-anchor" href="#分布式-id-模块-distributedids" aria-label="Permalink to &quot;分布式 ID 模块（DistributedIds）&quot;">​</a></h4><ul><li>雪花算法（Snowflake）</li><li>ULID、SQID、NanoID</li><li>序列管理</li><li>节点协调</li></ul><h4 id="对象存储模块-objectstorage" tabindex="-1">对象存储模块（ObjectStorage） <a class="header-anchor" href="#对象存储模块-objectstorage" aria-label="Permalink to &quot;对象存储模块（ObjectStorage）&quot;">​</a></h4><ul><li>本地文件存储</li><li>阿里云 OSS</li><li>腾讯云 COS</li><li>MinIO</li><li>分片上传</li></ul><h4 id="可观测性模块-observability" tabindex="-1">可观测性模块（Observability） <a class="header-anchor" href="#可观测性模块-observability" aria-label="Permalink to &quot;可观测性模块（Observability）&quot;">​</a></h4><ul><li>诊断服务</li><li>健康检查</li><li>指标收集</li><li>性能监控</li></ul><h4 id="模板引擎模块-templating" tabindex="-1">模板引擎模块（Templating） <a class="header-anchor" href="#模板引擎模块-templating" aria-label="Permalink to &quot;模板引擎模块（Templating）&quot;">​</a></h4><ul><li>模板解析</li><li>模板编译</li><li>模板上下文</li><li>模板继承</li></ul><h4 id="脚本执行模块-script" tabindex="-1">脚本执行模块（Script） <a class="header-anchor" href="#脚本执行模块-script" aria-label="Permalink to &quot;脚本执行模块（Script）&quot;">​</a></h4><ul><li>脚本运行时</li><li>动态编译</li><li>沙箱执行</li><li>脚本安全</li></ul><h4 id="ai-模块-ai" tabindex="-1">AI 模块（AI） <a class="header-anchor" href="#ai-模块-ai" aria-label="Permalink to &quot;AI 模块（AI）&quot;">​</a></h4><ul><li>AI 服务提供者</li><li>机器学习管道</li><li>模型管理</li><li>特征工程</li></ul><h2 id="设计原则" tabindex="-1">设计原则 <a class="header-anchor" href="#设计原则" aria-label="Permalink to &quot;设计原则&quot;">​</a></h2><h3 id="solid-原则" tabindex="-1">SOLID 原则 <a class="header-anchor" href="#solid-原则" aria-label="Permalink to &quot;SOLID 原则&quot;">​</a></h3><ul><li><strong>单一职责</strong> - 每个类只负责一个功能</li><li><strong>开闭原则</strong> - 对扩展开放，对修改关闭</li><li><strong>里氏替换</strong> - 子类可以替换父类</li><li><strong>接口隔离</strong> - 接口应该小而专注</li><li><strong>依赖倒置</strong> - 依赖抽象而非具体实现</li></ul><h3 id="依赖注入" tabindex="-1">依赖注入 <a class="header-anchor" href="#依赖注入" aria-label="Permalink to &quot;依赖注入&quot;">​</a></h3><p>框架深度集成 .NET 依赖注入：</p><ul><li>服务注册自动化</li><li>生命周期管理</li><li>约定式注册</li><li>模块化注册</li></ul><h3 id="异步优先" tabindex="-1">异步优先 <a class="header-anchor" href="#异步优先" aria-label="Permalink to &quot;异步优先&quot;">​</a></h3><p>全面支持异步编程：</p><ul><li>所有 I/O 操作异步化</li><li>使用 async/await 模式</li><li>避免同步阻塞</li><li>提高并发性能</li></ul><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><h3 id="模块化开发" tabindex="-1">模块化开发 <a class="header-anchor" href="#模块化开发" aria-label="Permalink to &quot;模块化开发&quot;">​</a></h3><ul><li>按功能划分模块</li><li>模块独立开发和测试</li><li>清晰的模块依赖关系</li><li>避免循环依赖</li></ul><h3 id="领域模型" tabindex="-1">领域模型 <a class="header-anchor" href="#领域模型" aria-label="Permalink to &quot;领域模型&quot;">​</a></h3><ul><li>丰富的领域模型</li><li>将业务逻辑放在领域层</li><li>使用值对象表示概念</li><li>通过领域事件解耦</li></ul><h3 id="数据访问-1" tabindex="-1">数据访问 <a class="header-anchor" href="#数据访问-1" aria-label="Permalink to &quot;数据访问&quot;">​</a></h3><ul><li>使用仓储模式</li><li>通过工作单元管理事务</li><li>使用规约封装查询</li><li>启用审计追踪</li></ul><h3 id="异常处理" tabindex="-1">异常处理 <a class="header-anchor" href="#异常处理" aria-label="Permalink to &quot;异常处理&quot;">​</a></h3><ul><li>使用结果模式代替异常</li><li>在边界处处理异常</li><li>记录异常详情</li><li>提供友好的错误信息</li></ul><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><h3 id="安装框架" tabindex="-1">安装框架 <a class="header-anchor" href="#安装框架" aria-label="Permalink to &quot;安装框架&quot;">​</a></h3><p>通过 NuGet 安装核心模块：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> XiHan.Framework.Core</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dotnet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> XiHan.Framework.Web.Core</span></span></code></pre></div><h3 id="配置应用" tabindex="-1">配置应用 <a class="header-anchor" href="#配置应用" aria-label="Permalink to &quot;配置应用&quot;">​</a></h3><p>创建模块类并配置依赖：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 配置数据库连接字符串</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 配置 Redis 连接</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 配置日志输出</span></span></code></pre></div><h3 id="使用功能" tabindex="-1">使用功能 <a class="header-anchor" href="#使用功能" aria-label="Permalink to &quot;使用功能&quot;">​</a></h3><p>根据需要引入其他模块，享受框架带来的便利。</p><h2 id="进阶主题" tabindex="-1">进阶主题 <a class="header-anchor" href="#进阶主题" aria-label="Permalink to &quot;进阶主题&quot;">​</a></h2><ul><li><a href="./core/dependency-injection">依赖注入详解</a></li><li><a href="./data/advanced">数据访问进阶</a></li><li><a href="./event-bus/guide">事件总线实战</a></li><li><a href="./multi-tenancy/implementation">多租户实现</a></li><li><a href="./performance/optimization">性能优化指南</a></li></ul><h2 id="更多资源" tabindex="-1">更多资源 <a class="header-anchor" href="#更多资源" aria-label="Permalink to &quot;更多资源&quot;">​</a></h2><ul><li><a href="https://apidocs.xihanfun.com" target="_blank" rel="noreferrer">API 文档</a></li><li><a href="https://github.com/XiHanFun/XiHan.Framework/tree/main/samples" target="_blank" rel="noreferrer">示例代码</a></li><li><a href="https://space.bilibili.com/xihanfun" target="_blank" rel="noreferrer">视频教程</a></li></ul>`,125)])])}const p=i(r,[["render",n]]);export{b as __pageData,p as default};
